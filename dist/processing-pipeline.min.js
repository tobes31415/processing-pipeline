!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t=r();for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(r.s=8)}([function(e,r,t){function n(){"use strict";return new o.a}var o=t(6);r.create=n},function(e,r,t){function n(){"use strict";function e(){i={}}function r(e){if(!e)throw new Error("CacheContext cannot be null");if("object"!=typeof e&&"function"!=typeof e)throw new Error("CacheContext must be an object or function");var r=e[o];return r||(r=""+Math.floor(99999*Math.random()),e[o]=r),r}function t(){var e=Array.prototype.slice.call(arguments,0),t=e.reduce(function(e,t){return(""|e)+r(t)+"|"}),n=i[t];return n||(n={},i[t]=n),n}var n=this,i={};n.clear=e,n.get=t}r.a=n;const o=Symbol("cacheManagerContext")},function(e,r,t){t(4),t(3)},function(e,r,t){},function(e,r,t){},function(e,r,t){function n(){var e=this||{};return e.promise=new Promise(function(r,t){e.resolve=r,e.reject=t}),e}r.a=n},function(e,r,t){(function(e){function n(){"use strict";function e(e,r){var t=c.a();return d.push({deferred:t,model:e,processor:r||s}),n(),t.promise}function r(){y=!0}function t(){y=!1,d=[],d.push({model:{},processor:m.clear}),n()}function n(){if(!y&&!v&&d.length>0){var e=d.shift(),r=function(){v=!1,e.deferred.resolve(),setTimeout(n,0)},t=f(e.processor,{model:e.model,history:w,changed:{}});t["catch"](a),t.then(r,r)}}function a(e){p===u?(h.halt(),console.error(e)):console.warn(e)}function f(r,t){if(!r)throw new Error("Processor undefined");if(y)return Promise.resolve();if("function"==typeof r)return Promise.resolve(r({model:t.model,changed:t.changed,cache:m.get(h,r)}));if("string"==typeof r)return f(t.model.processors[r.toLowerCase()]);if(Array.isArray(r))return new Promise(function(e,t){r.slice()});if("object"==typeof r){if(!Array.isArray(e.runs))throw new Error("Object based processor must have an array of sub processors called 'runs'");var n=!0;return Array.isArray(r.watches)&&(n=i["default"](r.watches,t)),n?f(r.runs,t):Promise.resolve()}}function l(e){if("halt"!==e&&"warn"!==e)throw new Error("On fail only accepts a single string value which must be exactly 'HALT' or 'WARN'");p=e}var h=this,p=u,d=[],m=new o.a,y=!1,v=!1,w={};h.process=e,h.halt=r,h.restart=t,h.onFail=l}var o=t(1),i=t(2),c=t(5);r.a=n;const u="HALT",s="start"}).call(r,t(7))},function(e,r){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===t||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(r){try{return f.call(null,e,0)}catch(r){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(r){try{return l.call(null,e)}catch(r){return l.call(this,e)}}}function c(){m&&p&&(m=!1,p.length?d=p.concat(d):y=-1,d.length&&u())}function u(){if(!m){var e=o(c);m=!0;for(var r=d.length;r;){for(p=d,d=[];++y<r;)p&&p[y].run();y=-1,r=d.length}p=null,m=!1,i(e)}}function s(e,r){this.fun=e,this.array=r}function a(){}var f,l,h=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:t}catch(e){f=t}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var p,d=[],m=!1,y=-1;h.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];d.push(new s(e,r)),1!==d.length||m||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,r,t){e.exports=t(0)}])});
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(t.s=7)}([function(e,t,r){function n(){"use strict";return new o.a}var o=r(5);t.create=n},function(e,t,r){function n(){"use strict";function e(){i={}}function t(e){if(!e)throw new Error("CacheContext cannot be null");if("object"!=typeof e&&"function"!=typeof e)throw new Error("CacheContext must be an object or function");var t=e[o];return t||(t=""+Math.floor(99999*Math.random()),e[o]=t),t}function r(){var e=Array.prototype.slice.call(arguments,0),r=e.reduce(function(e,r){return(""|e)+t(r)+"|"}),n=i[r];return n||(n={},i[r]=n),n}var n=this,i={};n.clear=e,n.get=r}t.a=n;const o=Symbol("cacheManagerContext")},function(e,t,r){r(4),r(3)},function(e,t,r){},function(e,t,r){},function(e,t,r){(function(e){function n(){"use strict";function e(e,t){p.push({model:e,processor:t||u}),n()}function t(){m=!0}function r(){m=!1,p=[],p.push({model:{},processor:d.clear}),n()}function n(){if(!m&&!y&&p.length>0){var e=p.shift(),t=function(){y=!1,setTimeout(n,0)},r=a(e.processor,{model:e.model,history:w,changed:{}});r["catch"](s),r.then(t,t)}}function s(e){h===c?(l.halt(),console.error(e)):console.warn(e)}function a(t,r){if(!t)throw new Error("Processor undefined");if(m)return Promise.resolve();if("function"==typeof t)return Promise.resolve(t({model:r.model,changed:r.changed,cache:d.get(l,t)}));if("string"==typeof t)return a(r.model.processors[t.toLowerCase()]);if(Array.isArray(t))return new Promise(function(e,r){t.slice()});if("object"==typeof t){if(!Array.isArray(e.runs))throw new Error("Object based processor must have an array of sub processors called 'runs'");var n=!0;return Array.isArray(t.watches)&&(n=i["default"](t.watches,r)),n?a(t.runs,r):Promise.resolve()}}function f(e){if("halt"!==e&&"warn"!==e)throw new Error("On fail only accepts a single string value which must be exactly 'HALT' or 'WARN'");h=e}var l=this,h=c,p=[],d=new o.a,m=!1,y=!1,w={};l.process=e,l.halt=t,l.restart=r,l.onFail=f}var o=r(1),i=r(2);t.a=n;const c="HALT",u="start"}).call(t,r(6))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function c(){m&&p&&(m=!1,p.length?d=p.concat(d):y=-1,d.length&&u())}function u(){if(!m){var e=o(c);m=!0;for(var t=d.length;t;){for(p=d,d=[];++y<t;)p&&p[y].run();y=-1,t=d.length}p=null,m=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function a(){}var f,l,h=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var p,d=[],m=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new s(e,t)),1!==d.length||m||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,r){e.exports=r(0)}])});